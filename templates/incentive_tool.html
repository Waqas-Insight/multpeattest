{% extends "base.html" %}

{% block title %}Incentive Tool{% endblock %}

{% block content %}

<div class="container" style="min-height: 800px;">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <h4 class="text-center" style="padding:10px; padding-top: 20px;">POLICY INCENTIVE TOOL</h4>
            <p class="text-descr" style="padding-bottom:10px">
                Provide link to policy PDF or file to be analyzed.
                This tool will extract the text from this policy and separate it into sentences. 
                Then our pre-trained model will check the sentences for policy incentives and finally will classify the incentive sentences by category.
                You then may provide feedback on the results and save your final report.
            </p>
            <form method="POST" action="" enctype="multipart/form-data">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <p><input type="file" name="file" accept=".pdf,.doc,.docx"></p>
                <p><input type="submit" value="Submit"></p>
                <!--
                <button class="btn btn-primary" type="button" disabled>
                <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                <span role="status">Loading...</span>
                </button>
                -->
            </form>
            <div id="inc_result_div">
                {% if res_dct %}
                    {% for label in res_dct.keys() %} 
                        <h4>{{label}}</h4>
                        {% for sent in res_dct[label] %}
                            <ul>{{sent}}</ul>
                        {% endfor %}
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
</div>

<script>
    console.log("NLP Tool")
    //for (let i = 0; i < stkLst.length; i++) {
</script>

{% endblock %}
